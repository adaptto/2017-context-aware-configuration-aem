[feature name=adaptto-caconfig-aem-cms-config]


[configurations]

  # Configure Sling Context-Aware Configuration for AEM - add lookup in jcr:content subnodes, ignore cq:* properties
  org.apache.sling.caconfig.resource.impl.def.DefaultContextPathStrategy
    configRefResourceNames=["jcr:content"]
  
  org.apache.sling.caconfig.management.impl.ConfigurationManagementSettingsImpl
    ignorePropertyNameRegex=["^(jcr|cq):.+$"]

  # Example for config override
  org.apache.sling.caconfig.impl.override.OsgiConfigurationOverrideProvider-caconfig-sample
    description="Override\ Example"
    overrides=["[/content/adaptto-caconfig-aem/en/sub-page/sub-page-override]io.wcm.caconfig.sample.config.ConfigSample\={\"stringParam\":\"override-stringParam\",\"intParam\":999}","[/content/adaptto-caconfig-aem/en/sub-page/sub-page-override]sample/configuration/2/stringParam\=\"override2-stringParam\""]
    enabled=B"true"


[configurations runModes=author]

  # Show "Sites" view in TouchUI after login
  com.day.cq.commons.servlets.RootMappingServlet
    rootmapping.target="/sites.html"
  

[configurations runModes=publish]
  
  # Disable Configuration Editor on publish
  io.wcm.caconfig.editor.impl.EditorConfig
    enabled=B"false"
