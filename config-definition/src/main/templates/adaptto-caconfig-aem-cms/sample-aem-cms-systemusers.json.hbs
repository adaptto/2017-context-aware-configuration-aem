{{!--
  Create system user "sling-caconfig" and grant read access to everything below /content, /conf, /apps/conf and /libs/conf.
--}}
{
  "jcr:primaryType": "rep:root",

  "content": {
    "jcr:primaryType": "sling:OrderedFolder",

    "rep:policy": {
      "jcr:primaryType": "rep:ACL",
      "allow-sling-caconfig": {
        "jcr:primaryType": "rep:GrantACE",
        "rep:principalName": "sling-caconfig",
        "rep:privileges": [ "jcr:read" ]
      }
    }
  },

  "conf": {
    "jcr:primaryType": "sling:Folder",    
    "rep:policy": {
      "jcr:primaryType": "rep:ACL",
      "allow-sling-caconfig": {
        "jcr:primaryType": "rep:GrantACE",
        "rep:principalName": "sling-caconfig",
        "rep:privileges": [ "jcr:read" ]
      }
    }
  },

  "apps": {
    "jcr:primaryType": "sling:Folder",
    "conf": {
      "jcr:primaryType": "sling:Folder",    
      "rep:policy": {
        "jcr:primaryType": "rep:ACL",
        "allow-sling-caconfig": {
          "jcr:primaryType": "rep:GrantACE",
          "rep:principalName": "sling-caconfig",
          "rep:privileges": [ "jcr:read" ]
        }
      }
    }
  },

  "libs": {
    "jcr:primaryType": "sling:Folder",
    "conf": {
      "jcr:primaryType": "sling:Folder",    
      "rep:policy": {
        "jcr:primaryType": "rep:ACL",
        "allow-sling-caconfig": {
          "jcr:primaryType": "rep:GrantACE",
          "rep:principalName": "sling-caconfig",
          "rep:privileges": [ "jcr:read" ]
        }
      }
    }
  },

  "home": {
    "jcr:primaryType": "rep:AuthorizableFolder",

    "users": {
      "jcr:primaryType": "rep:AuthorizableFolder",

      "system": {
        "jcr:primaryType": "rep:AuthorizableFolder",

        "sling-caconfig": {
          "jcr:primaryType": "rep:SystemUser",
          "jcr:uuid": "3db78170-69ad-38fa-bdec-c930138efaab",
          "rep:authorizableId": "sling-caconfig",
          "rep:principalName": "sling-caconfig"
        }

      }

    }

  }

}
